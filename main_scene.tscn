[gd_scene load_steps=51 format=3 uid="uid://byg548mddsuhp"]

[ext_resource type="Script" uid="uid://rradq6tqhv60" path="res://SliderConfig.cs" id="2_66tet"]
[ext_resource type="Texture2D" uid="uid://bkmbml217snyk" path="res://assets/dimension spritesheet.png" id="9_7ycvg"]
[ext_resource type="Script" uid="uid://dnb5iegcl3s5r" path="res://terrain/TerrainGen.cs" id="10_671wp"]
[ext_resource type="Shader" uid="uid://dhenq7n7w3f5" path="res://main_scene.gdshader" id="10_mo76n"]
[ext_resource type="Script" uid="uid://1njs0cvgv6a0" path="res://terrain/ChunkManager.cs" id="10_qwutr"]
[ext_resource type="Script" uid="uid://d1rb4n55le2cp" path="res://CameraController.cs" id="10_wr18j"]
[ext_resource type="Script" uid="uid://bn66bgttlo0pn" path="res://terrain/GenRange.cs" id="11_42l1d"]
[ext_resource type="Shader" uid="uid://b5b6c4tbr141y" path="res://cloud_circle_nofade_cw.gdshader" id="11_671wp"]
[ext_resource type="Script" uid="uid://d33brm7vp1jgy" path="res://terrain/SimplexGen.cs" id="11_mo76n"]
[ext_resource type="Texture2D" uid="uid://cl3kiv6h4frsf" path="res://assets/32px circle.png" id="11_qwutr"]
[ext_resource type="Script" uid="uid://7o0j1gneru7r" path="res://terrain/SimplexGenConfig.cs" id="12_42l1d"]
[ext_resource type="Script" uid="uid://g5eae7qke6uf" path="res://CameraConfig.cs" id="13_cam01"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qwutr"]
shader = ExtResource("10_mo76n")
shader_parameter/pixel_size = 4
shader_parameter/screen_size = Vector2(1152, 648)

[sub_resource type="Resource" id="Resource_grass_freq"]
script = ExtResource("2_66tet")
Name = "Grass Frequency"
InitialValue = 0.93
Min = 0.01
Max = 0.99
Step = 0.01
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_grass_oct"]
script = ExtResource("2_66tet")
Name = "Grass Octaves"
InitialValue = 2.0
Min = 1.0
Max = 10.0
Step = 1.0
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_grass_lac"]
script = ExtResource("2_66tet")
Name = "Grass Lacunarity"
InitialValue = 1.0
Min = 1.0
Max = 4.0
Step = 0.1
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_grass_gain"]
script = ExtResource("2_66tet")
Name = "Grass Gain"
InitialValue = 0.1
Min = 0.01
Max = 0.99
Step = 0.01
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_wr18j"]
script = ExtResource("2_66tet")
Name = "Rock Frequency"
InitialValue = 0.93
Min = 0.01
Max = 0.99
Step = 0.01
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_mo76n"]
script = ExtResource("2_66tet")
Name = "Rock Octaves"
InitialValue = 2.0
Min = 1.0
Max = 10.0
Step = 1.0
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_671wp"]
script = ExtResource("2_66tet")
Name = "Rock Lacunarity"
InitialValue = 1.0
Min = 1.0
Max = 4.0
Step = 0.1
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_qwutr"]
script = ExtResource("2_66tet")
Name = "Rock Gain"
InitialValue = 0.1
Min = 0.01
Max = 0.99
Step = 0.01
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_sand_freq"]
script = ExtResource("2_66tet")
Name = "Sand Frequency"
InitialValue = 0.93
Min = 0.01
Max = 0.99
Step = 0.01
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_sand_oct"]
script = ExtResource("2_66tet")
Name = "Sand Octaves"
InitialValue = 2.0
Min = 1.0
Max = 10.0
Step = 1.0
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_sand_lac"]
script = ExtResource("2_66tet")
Name = "Sand Lacunarity"
InitialValue = 1.0
Min = 1.0
Max = 4.0
Step = 0.1
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_sand_gain"]
script = ExtResource("2_66tet")
Name = "Sand Gain"
InitialValue = 0.1
Min = 0.01
Max = 0.99
Step = 0.01
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_o4fqm"]
script = ExtResource("2_66tet")
Name = "Terrain Frequency"
InitialValue = 0.006
Min = 0.001
Max = 0.07
Step = 0.001
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_gfmxp"]
script = ExtResource("2_66tet")
Name = "Terrain Octaves"
InitialValue = 3.0
Min = 1.0
Max = 10.0
Step = 1.0
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_1n88h"]
script = ExtResource("2_66tet")
Name = "Terrain Lacunarity"
InitialValue = 3.1
Min = 1.0
Max = 4.0
Step = 0.1
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_opjno"]
script = ExtResource("2_66tet")
Name = "Terrain Gain"
InitialValue = 0.32
Min = 0.01
Max = 0.99
Step = 0.01
metadata/_custom_type_script = "uid://rradq6tqhv60"

[sub_resource type="Resource" id="Resource_ak604"]
script = ExtResource("11_42l1d")
FirstIndex = -6
LastIndex = -4
metadata/_custom_type_script = "uid://bn66bgttlo0pn"

[sub_resource type="Resource" id="Resource_meb7l"]
script = ExtResource("11_42l1d")
FirstIndex = -3
LastIndex = 1
metadata/_custom_type_script = "uid://bn66bgttlo0pn"

[sub_resource type="Resource" id="Resource_u0ygc"]
script = ExtResource("11_42l1d")
FirstIndex = 2
LastIndex = 3
metadata/_custom_type_script = "uid://bn66bgttlo0pn"

[sub_resource type="Resource" id="Resource_7th4q"]
script = ExtResource("11_42l1d")
FirstIndex = 4
LastIndex = 6
metadata/_custom_type_script = "uid://bn66bgttlo0pn"

[sub_resource type="AtlasTexture" id="AtlasTexture_7ycvg"]
atlas = ExtResource("9_7ycvg")
region = Rect2(0, 0, 36, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_wr18j"]
atlas = ExtResource("9_7ycvg")
region = Rect2(36, 0, 36, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_qwutr"]
atlas = ExtResource("9_7ycvg")
region = Rect2(72, 0, 36, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_671wp"]
atlas = ExtResource("9_7ycvg")
region = Rect2(108, 0, 36, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_mo76n"]
atlas = ExtResource("9_7ycvg")
region = Rect2(144, 0, 36, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_42l1d"]
atlas = ExtResource("9_7ycvg")
region = Rect2(180, 0, 36, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_2jcla"]
atlas = ExtResource("9_7ycvg")
region = Rect2(216, 0, 36, 44)

[sub_resource type="SpriteFrames" id="SpriteFrames_m35m6"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_7ycvg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wr18j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qwutr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_671wp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mo76n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_42l1d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2jcla")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_mo76n"]
shader = ExtResource("11_671wp")
shader_parameter/speed = 0.5390000256025
shader_parameter/swirl_strength = 4.0
shader_parameter/noise_scale = 5.5
shader_parameter/cloud_coverage = 0.5
shader_parameter/cloud_shadow = 0.8590000408025

[sub_resource type="Gradient" id="Gradient_mo76n"]
offsets = PackedFloat32Array(0, 0.003984064, 1)
colors = PackedColorArray(0, 0, 0, 1, 0.067729086, 0.067729086, 0.067729086, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_42l1d"]
gradient = SubResource("Gradient_mo76n")

[sub_resource type="Curve" id="Curve_2jcla"]
_data = [Vector2(0, 0.25298506), 0.0, 0.0, 0, 0, Vector2(0.50180507, 0.99029857), 0.0, 0.0, 0, 0, Vector2(1, 0.25298506), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_m35m6"]
curve = SubResource("Curve_2jcla")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_u0ygc"]
particle_flag_disable_z = true
emission_shape = 1
emission_sphere_radius = 14.0
angular_velocity_min = -100.000015
angular_velocity_max = 9.999984
orbit_velocity_min = -0.19999991
orbit_velocity_max = -0.19999991
gravity = Vector3(0, 0, 0)
scale_min = 4.0
scale_max = 4.0
scale_curve = SubResource("CurveTexture_m35m6")
color = Color(0.6967576, 0.70061207, 0.7436198, 1)
color_ramp = SubResource("GradientTexture1D_42l1d")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_wr18j"]
particle_flag_disable_z = true
emission_shape = 1
emission_sphere_radius = 15.0
orbit_velocity_min = -0.99999994
orbit_velocity_max = -0.99999994
gravity = Vector3(0, 0, 0)
scale_min = 2.0
scale_max = 2.0
color = Color(0.18601495, 0.34978524, 0.9529374, 1)

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_7ycvg"]
particle_flag_disable_z = true
emission_shape = 1
emission_sphere_radius = 15.0
direction = Vector3(0, 0, 0)
spread = 0.0
orbit_velocity_min = -0.99999994
orbit_velocity_max = -0.99999994
gravity = Vector3(0, 0, 0)
scale_min = 2.0
scale_max = 2.0
color = Color(0.8862745, 0, 0, 1)

[sub_resource type="ViewportTexture" id="ViewportTexture_671wp"]
viewport_path = NodePath("PlayerPrototype/SubViewport")

[node name="Node2D" type="Node2D"]

[node name="UILayer" type="CanvasLayer" parent="."]
layer = 10

[node name="PixelationShaderRegion" type="ColorRect" parent="UILayer"]
visible = false
z_index = 1
material = SubResource("ShaderMaterial_qwutr")
offset_right = 110.0
offset_bottom = 127.0

[node name="GrassUI" type="Container" parent="UILayer" node_paths=PackedStringArray("SimplexGenNode")]
offset_top = 100.0
offset_right = 40.0
offset_bottom = 140.0
script = ExtResource("12_42l1d")
FrequencyConfig = SubResource("Resource_grass_freq")
OctavesConfig = SubResource("Resource_grass_oct")
LacunarityConfig = SubResource("Resource_grass_lac")
GainConfig = SubResource("Resource_grass_gain")
SimplexGenNode = NodePath("../../TerrainGen/GensLayer/GrassGen")

[node name="RockUI" type="Container" parent="UILayer" node_paths=PackedStringArray("SimplexGenNode")]
offset_top = 200.0
offset_right = 40.0
offset_bottom = 240.0
script = ExtResource("12_42l1d")
FrequencyConfig = SubResource("Resource_wr18j")
OctavesConfig = SubResource("Resource_mo76n")
LacunarityConfig = SubResource("Resource_671wp")
GainConfig = SubResource("Resource_qwutr")
SimplexGenNode = NodePath("../../TerrainGen/GensLayer/RockGen")

[node name="SandUI" type="Container" parent="UILayer" node_paths=PackedStringArray("SimplexGenNode")]
offset_top = 300.0
offset_right = 40.0
offset_bottom = 340.0
script = ExtResource("12_42l1d")
FrequencyConfig = SubResource("Resource_sand_freq")
OctavesConfig = SubResource("Resource_sand_oct")
LacunarityConfig = SubResource("Resource_sand_lac")
GainConfig = SubResource("Resource_sand_gain")
SimplexGenNode = NodePath("../../TerrainGen/GensLayer/SandGen")

[node name="WaterUI" type="Container" parent="UILayer" node_paths=PackedStringArray("SimplexGenNode")]
offset_left = 600.0
offset_right = 640.0
offset_bottom = 40.0
script = ExtResource("12_42l1d")
FrequencyConfig = SubResource("Resource_wr18j")
OctavesConfig = SubResource("Resource_mo76n")
LacunarityConfig = SubResource("Resource_671wp")
GainConfig = SubResource("Resource_qwutr")
SimplexGenNode = NodePath("../../TerrainGen/GensLayer/WaterGen")

[node name="TerrainGenUI" type="Container" parent="UILayer" node_paths=PackedStringArray("SimplexGenNode")]
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("12_42l1d")
ShowUI = true
FrequencyConfig = SubResource("Resource_o4fqm")
OctavesConfig = SubResource("Resource_gfmxp")
LacunarityConfig = SubResource("Resource_1n88h")
GainConfig = SubResource("Resource_opjno")
SimplexGenNode = NodePath("../../TerrainGen")

[node name="CameraUI" type="Container" parent="UILayer" node_paths=PackedStringArray("Camera")]
offset_top = 400.0
offset_right = 40.0
offset_bottom = 440.0
script = ExtResource("13_cam01")
Camera = NodePath("../../Camera2D")

[node name="TerrainGen" type="Node" parent="." node_paths=PackedStringArray("SimplexGens", "ChunkManager")]
script = ExtResource("10_671wp")
SimplexGens = [NodePath("GensLayer/WaterGen"), NodePath("GensLayer/GrassGen"), NodePath("GensLayer/SandGen"), NodePath("GensLayer/RockGen")]
GenRanges = {
SubResource("Resource_ak604"): 0,
SubResource("Resource_meb7l"): 1,
SubResource("Resource_u0ygc"): 2,
SubResource("Resource_7th4q"): 3
}
ChunkManager = NodePath("ChunkManager")

[node name="GensLayer" type="Node" parent="TerrainGen"]

[node name="GrassGen" type="Node" parent="TerrainGen/GensLayer" node_paths=PackedStringArray("ChunkManager")]
script = ExtResource("11_mo76n")
ChunkManager = NodePath("../../ChunkManager")
TerrainType = 1

[node name="RockGen" type="Node" parent="TerrainGen/GensLayer" node_paths=PackedStringArray("ChunkManager")]
script = ExtResource("11_mo76n")
ChunkManager = NodePath("../../ChunkManager")
TerrainType = 3

[node name="SandGen" type="Node" parent="TerrainGen/GensLayer" node_paths=PackedStringArray("ChunkManager")]
script = ExtResource("11_mo76n")
ChunkManager = NodePath("../../ChunkManager")
TerrainType = 2

[node name="WaterGen" type="Node" parent="TerrainGen/GensLayer" node_paths=PackedStringArray("ChunkManager")]
script = ExtResource("11_mo76n")
ChunkManager = NodePath("../../ChunkManager")

[node name="ChunkManager" type="Node" parent="TerrainGen" node_paths=PackedStringArray("TerrainGen", "Camera")]
script = ExtResource("10_qwutr")
TerrainGen = NodePath("..")
Camera = NodePath("../../Camera2D")
ChunkSize = 20

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(576, 324)
script = ExtResource("10_wr18j")

[node name="OldPlayePrototype" type="AnimatedSprite2D" parent="."]
z_index = 1
z_as_relative = false
position = Vector2(457, 241)
sprite_frames = SubResource("SpriteFrames_m35m6")
autoplay = "default"
frame = 4
frame_progress = 0.34795603

[node name="Experiments" type="Node2D" parent="."]

[node name="PlayerPrototype" type="Node2D" parent="."]
position = Vector2(559, 243)
scale = Vector2(2, 2)

[node name="SubViewport" type="SubViewport" parent="PlayerPrototype"]
disable_3d = true
transparent_bg = true
size = Vector2i(32, 32)

[node name="Particles" type="Node2D" parent="PlayerPrototype/SubViewport"]
position = Vector2(16, 16)

[node name="GreyCircle" type="Sprite2D" parent="PlayerPrototype/SubViewport/Particles"]
material = SubResource("ShaderMaterial_mo76n")
texture = ExtResource("11_qwutr")

[node name="GPUParticles2DClouds" type="GPUParticles2D" parent="PlayerPrototype/SubViewport/Particles"]
z_index = 1
amount = 40
local_coords = true
trail_lifetime = 1.0
process_material = SubResource("ParticleProcessMaterial_u0ygc")

[node name="GPUParticles2DBlue" type="GPUParticles2D" parent="PlayerPrototype/SubViewport/Particles"]
z_index = 1
amount = 5
local_coords = true
trail_enabled = true
process_material = SubResource("ParticleProcessMaterial_wr18j")

[node name="GPUParticles2DRed" type="GPUParticles2D" parent="PlayerPrototype/SubViewport/Particles"]
z_index = 1
amount = 5
local_coords = true
trail_enabled = true
trail_lifetime = 0.2
process_material = SubResource("ParticleProcessMaterial_7ycvg")

[node name="SubViewportSprite" type="Sprite2D" parent="PlayerPrototype"]
z_index = 1
texture = SubResource("ViewportTexture_671wp")
